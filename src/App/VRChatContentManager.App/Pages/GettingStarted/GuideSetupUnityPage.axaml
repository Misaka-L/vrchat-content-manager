<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:gettingStarted="clr-namespace:VRChatContentManager.App.ViewModels.Pages.GettingStarted"
             xmlns:assists="clr-namespace:Material.Styles.Assists;assembly=Material.Styles"
             xmlns:avalonia="clr-namespace:Material.Icons.Avalonia;assembly=Material.Icons.Avalonia"
             mc:Ignorable="d" d:DesignWidth="420" d:DesignHeight="680"
             x:DataType="gettingStarted:GuideSetupUnityPageViewModel"
             x:Class="VRChatContentManager.App.Pages.GettingStarted.GuideSetupUnityPage">

    <Interaction.Behaviors>
        <EventTriggerBehavior EventName="Loaded">
            <InvokeCommandAction Command="{Binding LoadCommand}" />
        </EventTriggerBehavior>
        <EventTriggerBehavior EventName="Unloaded">
            <InvokeCommandAction Command="{Binding UnloadCommand}" />
        </EventTriggerBehavior>
    </Interaction.Behaviors>

    <Grid RowDefinitions="Auto,*,Auto">
        <Border Height="90">
            <Border.Background>
                <ImageBrush Source="/Assets/WelcomeHeader.png" Stretch="UniformToFill" />
            </Border.Background>
            <StackPanel Margin="18">
                <TextBlock Text="To Connect Unity to App" FontSize="16" Foreground="White" Opacity="0.7" />
                <TextBlock Text="Install Connect Package" FontSize="36" FontWeight="SemiBold" Foreground="White" />
            </StackPanel>
        </Border>

        <StackPanel Grid.Row="1" Margin="18" Spacing="12">
            <StackPanel Spacing="8">
                <Border BorderBrush="{DynamicResource MaterialDesignBodyLight}"
                        BorderThickness="2,0,0,0"
                        Padding="8,0,0,0">
                    <StackPanel>
                        <TextBlock Classes="Caption" Text="Step.1" Opacity="0.8" />
                        <TextBlock Classes="Headline6" Text="Add VPM Repository" TextWrapping="Wrap" />
                    </StackPanel>
                </Border>
                <TextBox UseFloatingWatermark="True" Classes="outline" Theme="{StaticResource OutlineTextBox}"
                         assists:TextFieldAssist.Label="VPM Repository URL"
                         IsReadOnly="True" Text="{Binding VpmRepositoryUrl}" />

                <Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
                    <Button
                        Content="{avalonia:MaterialIconTextExt Kind=PackageVariantClosedPlus, Text=Add to package manager}">
                        <Interaction.Behaviors>
                            <ButtonClickEventTriggerBehavior>
                                <LaunchUriAction Uri="{Binding PackageManagerUrl}" />
                            </ButtonClickEventTriggerBehavior>
                        </Interaction.Behaviors>
                    </Button>
                    <Button Grid.Column="1" Theme="{StaticResource MaterialOutlineButton}" Classes="light"
                            Content="{avalonia:MaterialIconTextExt Kind=ContentCopy, Text=Copy}">
                        <Interaction.Behaviors>
                            <ButtonClickEventTriggerBehavior>
                                <SetClipboardTextAction Text="{Binding VpmRepositoryUrl}" />
                            </ButtonClickEventTriggerBehavior>
                        </Interaction.Behaviors>
                    </Button>
                </Grid>
            </StackPanel>

            <StackPanel Spacing="4">
                <Border BorderBrush="{DynamicResource MaterialDesignBodyLight}"
                        BorderThickness="2,0,0,0"
                        Padding="8,0,0,0"
                        Margin="0,0,0,4">
                    <StackPanel>
                        <TextBlock Classes="Caption" Text="Step.2" Opacity="0.8" />
                        <TextBlock Classes="Headline6" Text="Install Connect Package" TextWrapping="Wrap" />
                    </StackPanel>
                </Border>

                <StackPanel Margin="2 0">
                    <TextBlock Classes="Caption" Text="For Worlds Project" Opacity="0.6" />
                    <SelectableTextBlock TextWrapping="Wrap" Text="VRChat Content Manager Connect - Worlds" />
                </StackPanel>
                <StackPanel Margin="2 0">
                    <TextBlock Classes="Caption" Text="For Avatars Project" Opacity="0.6" />
                    <SelectableTextBlock TextWrapping="Wrap" Text="VRChat Content Manager Connect - Avatars" />
                </StackPanel>
                <StackPanel Margin="2 0">
                    <TextBlock Classes="Caption" Text="If you are using Continuous Avatar Uploader" Opacity="0.6" />
                    <SelectableTextBlock TextWrapping="Wrap"
                                         Text="VRChat Content Manager Connect - Avatars - Continuous Avatar Uploader Extension" />
                </StackPanel>
            </StackPanel>
        </StackPanel>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right"
                    Margin="18 14" Spacing="8">
            <Button Theme="{StaticResource MaterialOutlineButton}"
                    Foreground="{DynamicResource MaterialDesignBody}"
                    BorderBrush="{DynamicResource MaterialDesignBodyLight}"
                    Content="Skip" Command="{Binding SkipCommand}" />
            <Button Content="Next" Command="{Binding NextCommand}" />
        </StackPanel>
    </Grid>
</UserControl>